<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadownloader Client | Credits</title>
    <script>
        (() => {
            const mql = window.matchMedia("(prefers-color-scheme: dark)");
            const root = document.documentElement;

            const apply = () => root.setAttribute("data-bs-theme", mql.matches ? "dark" : "light");

            apply();
            mql.addEventListener?.("change", apply);
        })();
    </script>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./icons/material-icons-round.css">
</head>

<body class="popup-window">
    <div>
        <div>
            <div style="display:flex;">
                <img id="credits-logo" src="./img/shadownloader.png" alt="Shadownloader Logo">
            <h2>Shadownloader Client</h2>
            </div>
            <p>• Created by WillTDA (Will Knowles) - <span onclick="window.electronAPI.openExternal('https://github.com/WillTDA')">https://github.com/WillTDA</span></p>
            <p>• Logo designed by TheFuturisticIdiot - <span onclick="window.electronAPI.openExternal('https://youtube.com/TheFuturisticIdiot')">https://youtube.com/TheFuturisticIdiot</span></p>
            <p>• This software is licensed under the GNU General Public License v3.0.</p>
            <p>• Shadownloader Server is licensed under the GNU Affero General Public License v3.0.</p>
            <hr>
            <p>• Privacy and anonymity is a human right. Nobody should have to give anything for their right to data freedom.</p>
            <p>• If this software is useful to you, consider donating to support development!</p>
            <div>
                <button id="donate" class="btn">Donate on Buy Me a Coffee</button>
                <button id="github" class="btn">View Source Code on GitHub</button>
            </div>
        </div>
    </div>

    <script>
        (async () => {
            try {
                const v = await window.electronAPI.getClientVersion();
                document.querySelector("h2").innerText += ` v${v}`;
            } catch (err) {
                console.error("Failed to get client version:", err);
            }
        })();

        document.getElementById("donate").addEventListener("click", () => {
            window.electronAPI.openExternal("https://buymeacoff.ee/willtda");
        });

        document.getElementById("github").addEventListener("click", () => {
            window.electronAPI.openExternal("https://github.com/WillTDA/Shadownloader");
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') window.close();
        });
    </script>
</body>

</html>